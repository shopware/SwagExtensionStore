name: Administration
on:
  push:
    branches:
      - trunk
  pull_request:

env:
  PUPPETEER_SKIP_CHROMIUM_DOWNLOAD: 'true'
  COMPOSER_ROOT_VERSION: 6.6.9999999.9999999-dev

jobs:
  unit:
    name: Jest
    uses: shopware/github-actions/.github/workflows/admin-jest.yml@main
    with:
      extensionName: ${{ github.event.repository.name }}
      uploadCoverage: true
      shopwareVersion: next-36303/feature/in-app-purchases
    secrets:
      codecovToken: ${{ secrets.CODECOV_TOKEN }}
  lint:
    name: ESLint
    uses: shopware/github-actions/.github/workflows/admin-eslint.yml@main
    with:
      extensionName: ${{ github.event.repository.name }}
      shopwareVersion: next-36303/feature/in-app-purchases
