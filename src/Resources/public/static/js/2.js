/*! For license information please see 2.js.LICENSE.txt */
(this["webpackJsonpPluginswag-extension-store"]=this["webpackJsonpPluginswag-extension-store"]||[]).push([[2],{YoQZ:function(e,n,t){var o=t("zTnj");o.__esModule&&(o=o.default),"string"==typeof o&&(o=[[e.i,o,""]]),o.locals&&(e.exports=o.locals);(0,t("ydqr").default)("12845be3",o,!0,{})},"cL+Z":function(e,n,t){"use strict";t.r(n);t("YoQZ");function o(e){return(o="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function i(){i=function(){return e};var e={},n=Object.prototype,t=n.hasOwnProperty,r=Object.defineProperty||function(e,n,t){e[n]=t.value},a="function"==typeof Symbol?Symbol:{},s=a.iterator||"@@iterator",c=a.asyncIterator||"@@asyncIterator",l=a.toStringTag||"@@toStringTag";function u(e,n,t){return Object.defineProperty(e,n,{value:t,enumerable:!0,configurable:!0,writable:!0}),e[n]}try{u({},"")}catch(e){u=function(e,n,t){return e[n]=t}}function d(e,n,t,o){var i=n&&n.prototype instanceof _?n:_,a=Object.create(i.prototype),s=new L(o||[]);return r(a,"_invoke",{value:k(e,t,s)}),a}function p(e,n,t){try{return{type:"normal",arg:e.call(n,t)}}catch(e){return{type:"throw",arg:e}}}e.wrap=d;var m={};function _(){}function h(){}function v(){}var y={};u(y,s,(function(){return this}));var f=Object.getPrototypeOf,b=f&&f(f(T([])));b&&b!==n&&t.call(b,s)&&(y=b);var x=v.prototype=_.prototype=Object.create(y);function w(e){["next","throw","return"].forEach((function(n){u(e,n,(function(e){return this._invoke(n,e)}))}))}function g(e,n){function i(r,a,s,c){var l=p(e[r],e,a);if("throw"!==l.type){var u=l.arg,d=u.value;return d&&"object"==o(d)&&t.call(d,"__await")?n.resolve(d.__await).then((function(e){i("next",e,s,c)}),(function(e){i("throw",e,s,c)})):n.resolve(d).then((function(e){u.value=e,s(u)}),(function(e){return i("throw",e,s,c)}))}c(l.arg)}var a;r(this,"_invoke",{value:function(e,t){function o(){return new n((function(n,o){i(e,t,n,o)}))}return a=a?a.then(o,o):o()}})}function k(e,n,t){var o="suspendedStart";return function(i,r){if("executing"===o)throw new Error("Generator is already running");if("completed"===o){if("throw"===i)throw r;return A()}for(t.method=i,t.arg=r;;){var a=t.delegate;if(a){var s=E(a,t);if(s){if(s===m)continue;return s}}if("next"===t.method)t.sent=t._sent=t.arg;else if("throw"===t.method){if("suspendedStart"===o)throw o="completed",t.arg;t.dispatchException(t.arg)}else"return"===t.method&&t.abrupt("return",t.arg);o="executing";var c=p(e,n,t);if("normal"===c.type){if(o=t.done?"completed":"suspendedYield",c.arg===m)continue;return{value:c.arg,done:t.done}}"throw"===c.type&&(o="completed",t.method="throw",t.arg=c.arg)}}}function E(e,n){var t=n.method,o=e.iterator[t];if(void 0===o)return n.delegate=null,"throw"===t&&e.iterator.return&&(n.method="return",n.arg=void 0,E(e,n),"throw"===n.method)||"return"!==t&&(n.method="throw",n.arg=new TypeError("The iterator does not provide a '"+t+"' method")),m;var i=p(o,e.iterator,n.arg);if("throw"===i.type)return n.method="throw",n.arg=i.arg,n.delegate=null,m;var r=i.arg;return r?r.done?(n[e.resultName]=r.value,n.next=e.nextLoc,"return"!==n.method&&(n.method="next",n.arg=void 0),n.delegate=null,m):r:(n.method="throw",n.arg=new TypeError("iterator result is not an object"),n.delegate=null,m)}function P(e){var n={tryLoc:e[0]};1 in e&&(n.catchLoc=e[1]),2 in e&&(n.finallyLoc=e[2],n.afterLoc=e[3]),this.tryEntries.push(n)}function S(e){var n=e.completion||{};n.type="normal",delete n.arg,e.completion=n}function L(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(P,this),this.reset(!0)}function T(e){if(e){var n=e[s];if(n)return n.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var o=-1,i=function n(){for(;++o<e.length;)if(t.call(e,o))return n.value=e[o],n.done=!1,n;return n.value=void 0,n.done=!0,n};return i.next=i}}return{next:A}}function A(){return{value:void 0,done:!0}}return h.prototype=v,r(x,"constructor",{value:v,configurable:!0}),r(v,"constructor",{value:h,configurable:!0}),h.displayName=u(v,l,"GeneratorFunction"),e.isGeneratorFunction=function(e){var n="function"==typeof e&&e.constructor;return!!n&&(n===h||"GeneratorFunction"===(n.displayName||n.name))},e.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,v):(e.__proto__=v,u(e,l,"GeneratorFunction")),e.prototype=Object.create(x),e},e.awrap=function(e){return{__await:e}},w(g.prototype),u(g.prototype,c,(function(){return this})),e.AsyncIterator=g,e.async=function(n,t,o,i,r){void 0===r&&(r=Promise);var a=new g(d(n,t,o,i),r);return e.isGeneratorFunction(t)?a:a.next().then((function(e){return e.done?e.value:a.next()}))},w(x),u(x,l,"Generator"),u(x,s,(function(){return this})),u(x,"toString",(function(){return"[object Generator]"})),e.keys=function(e){var n=Object(e),t=[];for(var o in n)t.push(o);return t.reverse(),function e(){for(;t.length;){var o=t.pop();if(o in n)return e.value=o,e.done=!1,e}return e.done=!0,e}},e.values=T,L.prototype={constructor:L,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(S),!e)for(var n in this)"t"===n.charAt(0)&&t.call(this,n)&&!isNaN(+n.slice(1))&&(this[n]=void 0)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var n=this;function o(t,o){return a.type="throw",a.arg=e,n.next=t,o&&(n.method="next",n.arg=void 0),!!o}for(var i=this.tryEntries.length-1;i>=0;--i){var r=this.tryEntries[i],a=r.completion;if("root"===r.tryLoc)return o("end");if(r.tryLoc<=this.prev){var s=t.call(r,"catchLoc"),c=t.call(r,"finallyLoc");if(s&&c){if(this.prev<r.catchLoc)return o(r.catchLoc,!0);if(this.prev<r.finallyLoc)return o(r.finallyLoc)}else if(s){if(this.prev<r.catchLoc)return o(r.catchLoc,!0)}else{if(!c)throw new Error("try statement without catch or finally");if(this.prev<r.finallyLoc)return o(r.finallyLoc)}}}},abrupt:function(e,n){for(var o=this.tryEntries.length-1;o>=0;--o){var i=this.tryEntries[o];if(i.tryLoc<=this.prev&&t.call(i,"finallyLoc")&&this.prev<i.finallyLoc){var r=i;break}}r&&("break"===e||"continue"===e)&&r.tryLoc<=n&&n<=r.finallyLoc&&(r=null);var a=r?r.completion:{};return a.type=e,a.arg=n,r?(this.method="next",this.next=r.finallyLoc,m):this.complete(a)},complete:function(e,n){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&n&&(this.next=n),m},finish:function(e){for(var n=this.tryEntries.length-1;n>=0;--n){var t=this.tryEntries[n];if(t.finallyLoc===e)return this.complete(t.completion,t.afterLoc),S(t),m}},catch:function(e){for(var n=this.tryEntries.length-1;n>=0;--n){var t=this.tryEntries[n];if(t.tryLoc===e){var o=t.completion;if("throw"===o.type){var i=o.arg;S(t)}return i}}throw new Error("illegal catch attempt")},delegateYield:function(e,n,t){return this.delegate={iterator:T(e),resultName:n,nextLoc:t},"next"===this.method&&(this.arg=void 0),m}},e}function r(e,n,t,o,i,r,a){try{var s=e[r](a),c=s.value}catch(e){return void t(e)}s.done?n(c):Promise.resolve(c).then(o,i)}function a(e){return function(){var n=this,t=arguments;return new Promise((function(o,i){var a=e.apply(n,t);function s(e){r(a,o,i,s,c,"next",e)}function c(e){r(a,o,i,s,c,"throw",e)}s(void 0)}))}}var s=Shopware.Utils;n.default={template:'{% block sw_extension_buy_modal %}\n    <sw-modal\n        class="sw-extension-buy-modal"\n        :title="$tc(\'sw-extension-store.component.sw-extension-buy-modal.title\')"\n        size="450px"\n        :isLoading="isLoading"\n        @modal-close="emitClose">\n\n        {% block sw_extension_buy_modal_content %}\n            <template v-if="checkoutStep === checkoutSteps.SUCCESS">\n                {% block sw_extension_buy_modal_adding_success_content%}\n                    <sw-extension-adding-success\n                        @close="emitClose">\n                    </sw-extension-adding-success>\n                {% endblock %}\n            </template>\n\n            <template v-else-if="checkoutStep === checkoutSteps.FAILED">\n                {% block sw_extension_buy_modal_adding_failed_content %}\n                    <sw-extension-adding-failed\n                        :extensionName="extension.name"\n                        :title="checkoutError && checkoutError.title"\n                        :detail="checkoutError && checkoutError.detail"\n                        :documentationLink="checkoutErrorDocumentationLink"\n                        @close="emitClose">\n                    </sw-extension-adding-failed>\n                {% endblock %}\n            </template>\n\n            <template v-else>\n                {% block sw_extension_buy_modal_content_not_installed %}\n                    {% block sw_extension_buy_modal_variant_selection %}\n                        <div class="sw-extension-buy-modal__variants-selection" :class="{\n                            \'sw-extension-buy-modal__variants-selection-single-entry\': recommendedVariants.length <= 1\n                        }">\n                            {% block sw_extension_buy_modal_variant_selection_content %}\n                                {% block sw_extension_buy_modal_variant_selection_extension_preview %}\n                                    <div class="sw-extension-buy-modal__extension-summary">\n                                        {% block sw_extension_buy_modal_variant_selection_extension_preview_content %}\n                                            {% block sw_extension_buy_modal_variant_selection_extension_icon %}\n                                                <sw-extension-icon-polyfill :src="extension.icon" />\n                                            {% endblock %}\n\n                                            {% block sw_extension_buy_modal_variant_selection_extension_name %}\n                                                <h4 class="sw-extension-buy-modal__extension-summary-name">\n                                                    {{ extension.label }}\n                                                </h4>\n                                            {% endblock %}\n                                        {% endblock %}\n                                    </div>\n                                {% endblock %}\n\n                                {% block sw_extension_buy_modal_variant_selection_variant_list %}\n                                    <ul>\n                                        {% block sw_extension_buy_modal_variant_selection_variant_list_item %}\n                                            <li v-for="variant in recommendedVariants"\n                                                :key="variant.id"\n                                                class="sw-extension-buy-modal__variants-card"\n                                                :class="variantCardClass(variant)"\n                                                @click="onChangeVariantSelection(variant)">\n\n                                                {% block sw_extension_buy_modal_variant_selection_variant_list_item_radio_button %}\n                                                    <div class="sw-extension-buy-modal__variants-card-input sw-field--radio">\n                                                        <div class="sw-field__radio-input">\n                                                            <input type="radio"\n                                                                   name="variant-selection"\n                                                                   :id="`sw-extension-buy-modal__variant-${variant.type}`"\n                                                                   :value="variant.id"\n                                                                   :checked="variant.id === selectedVariantId"\n                                                                   :disabled="isLoading"/>\n                                                            <div class="sw-field__radio-state"></div>\n                                                        </div>\n                                                    </div>\n                                                {% endblock %}\n\n                                                {% block sw_extension_buy_modal_variant_selection_variant_list_item_variant_label %}\n                                                    {% block sw_extension_buy_modal_variant_selection_variant_list_item_variant_label_description %}\n                                                        <label :for="`sw-extension-buy-modal__variant-${variant.type}`"\n                                                               class="sw-extension-buy-modal__variant-description">\n                                                            {{ variant.label || variant.type }}\n                                                        </label>\n                                                    {% endblock %}\n\n                                                    {% block sw_extension_buy_modal_variant_selection_variant_list_item_variant_label_rent %}\n                                                        <div v-if="variant.type === \'rent\'"\n                                                             class="sw-extension-buy-modal__rent">\n\n                                                            {% block sw_extension_buy_modal_variant_selection_variant_list_item_variant_label_rent_prices %}\n                                                                {% if VUE3 %}\n                                                                <i18n-t\n                                                                    keypath="sw-extension-store.buy-modal.rent.priceDisplay"\n                                                                    tag="span"\n                                                                    :class="getDiscountClasses(variant)">\n                                                                    <template #priceDisplay>\n                                                                        <span class="sw-extension-buy-modal__list-price">{{ renderPrice(variant.netPrice) }}</span\n                                                                        ><span v-if="hasDiscount(variant)"\n                                                                              class="sw-extension-buy-modal__discounted-price">{{ getDiscountPrice(variant) }}</span>\n                                                                    </template>\n                                                                </i18n-t>\n                                                                {% else %}\n                                                                <i18n path="sw-extension-store.buy-modal.rent.priceDisplay"\n                                                                      :class="getDiscountClasses(variant)">\n                                                                    <template #priceDisplay>\n                                                                        <span class="sw-extension-buy-modal__list-price">{{ renderPrice(variant.netPrice) }}</span\n                                                                        ><span v-if="hasDiscount(variant)"\n                                                                              class="sw-extension-buy-modal__discounted-price">{{ getDiscountPrice(variant) }}</span>\n                                                                    </template>\n                                                                </i18n>\n                                                                {% endif %}\n                                                            {% endblock %}\n\n                                                            {% block sw_extension_buy_modal_variant_selection_variant_list_item_variant_label_rent_trial %}\n                                                                <div v-if="variant.trialPhaseIncluded && firstMonthFree">{{ $tc(\'sw-extension-store.buy-modal.rent.freeTrial\') }}</div>\n                                                            {% endblock %}\n\n                                                            {% block sw_extension_buy_modal_variant_selection_variant_list_item_variant_label_rent_disclaimer %}\n                                                                <div>{{ $tc(\'sw-extension-store.buy-modal.rent.disclaimer\') }}</div>\n                                                            {% endblock %}\n\n                                                        </div>\n                                                    {% endblock %}\n\n                                                    {% block sw_extension_buy_modal_variant_selection_variant_list_item_variant_label_buy %}\n                                                        <div v-else-if="variant.type === \'buy\'"\n                                                             :class="getDiscountClasses(variant)">\n\n                                                            {% block sw_extension_buy_modal_variant_selection_variant_list_item_variant_label_buy_prices %}\n                                                                <span v-if="hasDiscount(variant)"\n                                                                      class="sw-extension-buy-modal__list-price">{{ renderPrice(variant.netPrice) }}</span\n                                                                ><span class="sw-extension-buy-modal__discounted-price">{{ renderBuyPrice(variant) }}</span>\n                                                            {% endblock %}\n\n                                                        </div>\n                                                    {% endblock %}\n\n                                                    {% block sw_extension_buy_modal_variant_selection_variant_list_item_variant_label_fallback %}\n                                                        <span v-else\n                                                              class="sw-extension-buy-modal__display-default-price">\n                                                            {{ renderPrice(variant.netPrice) }}\n                                                        </span>\n                                                    {% endblock %}\n\n                                                    {% block sw_extension_buy_modal_variant_selection_variant_list_item_variant_label_legal %}\n                                                        <span v-if="variant.legalText"\n                                                              v-html="legalTextForVariant(variant)"\n                                                              class="sw-extension-buy-modal__variant-text-block"/>\n                                                    {% endblock %}\n                                                {% endblock %}\n                                            </li>\n                                        {% endblock %}\n                                    </ul>\n                                {% endblock %}\n                            {% endblock %}\n                        </div>\n                    {% endblock %}\n\n                    {% block sw_extension_buy_modal_summary %}\n                        <div class="sw-extension-buy-modal__variant-summary">\n                            {% block sw_extension_buy_modal_summary_content %}\n                                {% block sw_extension_buy_modal_summary_price %}\n                                    <p class="sw-extension-buy-modal__variant-summary-price">\n                                        {% block sw_extension_buy_modal_summary_price_content %}\n                                            {% block sw_extension_buy_modal_summary_label_price %}\n                                                <span>\n                                                    {{ $tc(\'sw-extension-store.component.sw-extension-buy-modal.variantSummary.labelPrice\') }}\n                                                </span>\n                                            {% endblock %}\n\n                                            {% block sw_extension_buy_modal_summary_actual_price %}\n                                                <span v-if="!isLoading"\n                                                      class="sw-extension-buy-modal__variant-summary-actual-price">\n                                                    {{ $tc(\'sw-extension-store.general.labelPrice\', variantRecommendation(selectedVariant), { price: formattedPrice }) }}\n                                                </span>\n                                            {% endblock %}\n                                        {% endblock %}\n                                    </p>\n                                {% endblock %}\n\n                                {% block sw_extension_buy_modal_summary_label_plus_vat %}\n                                    <p class="sw-extension-buy-modal__variant-summary-price-subline" :class="vatIncludedClasses">\n                                        {{ $tc(\'sw-extension-store.component.sw-extension-buy-modal.variantSummary.labelVat\') }}\n                                    </p>\n                                {% endblock %}\n\n                                {% block sw_extension_buy_modal_summary_renewal_date %}\n                                    <p class="sw-extension-buy-modal__variant-summary-price-subline" :class="renewalDateClasses">\n                                        {{ $tc(\'sw-extension-store.component.sw-extension-buy-modal.variantSummary.renewal\', 0, { renewalDate: dateFilter(todayPlusOneMonth) }) }}\n                                    </p>\n                                {% endblock %}\n                            {% endblock %}\n                        </div>\n                    {% endblock %}\n\n                    {% block sw_extension_payment_selection %}\n                        <sw-single-select\n                            v-if="showPaymentSelection"\n                            :options="paymentMeans"\n                            :placeholder="$tc(\'sw-extension-store.buy-modal.paymentSelectionPlaceholder\')"\n                            valueProperty="id"\n                            {% if VUE3 %}\n                            v-model:value="selectedPaymentMean"\n                            {% else %}\n                            v-model="selectedPaymentMean"\n                            {% endif %}\n                        >\n                        </sw-single-select>\n                    {% endblock %}\n\n                    {% block sw_extension_payment_general_text_block %}\n                        <p class="sw-extension-buy-modal__general-text-block"\n                           v-if="paymentText"\n                           v-html="paymentText">\n                        </p>\n                    {% endblock %}\n\n                    {% block sw_extension_buy_modal_accept_toc %}\n                        <sw-gtc-checkbox\n                            {% if VUE3 %}\n                            v-model:value="tocAccepted"\n                            {% else %}\n                            v-model="tocAccepted"\n                            {% endif %}\n                        >\n                        </sw-gtc-checkbox>\n                    {% endblock %}\n\n                    {% block sw_extension_buy_modal_accept_extension_permissions %}\n                        <sw-checkbox-field\n                            v-if="extensionHasPermissions"\n                            class="sw-extension-buy-modal__checkbox sw-extension-buy-modal__checkbox-permissions"\n                            :class="`sw-extension-buy-modal__checkbox-permissions--${extension.name}`"\n                            {% if VUE3 %}\n                            v-model:value="permissionsAccepted"\n                            {% else %}\n                            v-model="permissionsAccepted"\n                            {% endif %}\n\n                        >\n                            <template #label>\n                                <span v-if="legalText">\n                                    {{ $t(\'sw-extension-store.buy-modal.checkboxes.permissionsAndAppProvider.introText\') }}\n                                    <a\n                                        href="#"\n                                        class="link permissions-modal-trigger"\n                                        @click.prevent="openPermissionsModal"\n                                    >\n                                        {{ $t(\'sw-extension-store.buy-modal.checkboxes.permissionsAndAppProvider.buttonPermissions\') }}\n                                    </a>\n                                    {{ $t(\'sw-extension-store.buy-modal.checkboxes.permissionsAndAppProvider.middleText\') }}\n                                    <a\n                                        href="#"\n                                        class="link legal-text-modal-trigger"\n                                        @click.prevent="openLegalTextModal"\n                                    >\n                                        {{ $t(\'sw-extension-store.buy-modal.checkboxes.permissionsAndAppProvider.buttonAppProvider\') }}\n                                    </a>\n                                    {{ $t(\'sw-extension-store.buy-modal.checkboxes.permissionsAndAppProvider.endText\') }}\n                                </span>\n\n                                <span v-else>\n                                    {{ $tc(\'sw-extension-store.component.sw-extension-buy-modal.labelAcceptPermissions\') }}\n                                    <a\n                                        href="#"\n                                        class="link permissions-modal-trigger"\n                                        @click="openPermissionsModal"\n                                    >\n                                        {{ $tc(\'sw-extension-store.detail.labelButtonShowPermissions\') }}\n                                    </a>\n                                </span>\n                            </template>\n                        </sw-checkbox-field>\n                    {% endblock %}\n\n                    {% block sw_extension_buy_modal_accept_extension_app_provider %}\n                        <sw-checkbox-field\n                            v-if="!extensionHasPermissions && legalText"\n                            v-model="legalTextAccepted"\n                            class="sw-extension-buy-modal__checkbox sw-extension-buy-modal__checkbox-app-provider"\n                            :class="`sw-extension-buy-modal__checkbox-app-provider--${extension.name}`"\n                        >\n                            <template #label>\n                                {{ $t(\'sw-extension-store.buy-modal.checkboxes.permissionsAndAppProvider.appProviderStartText\') }}\n                                <a\n                                    @click.prevent="openLegalTextModal"\n                                    class="link legal-text-modal-trigger"\n                                    href="#"\n                                >\n                                    {{ $t(\'sw-extension-store.buy-modal.checkboxes.permissionsAndAppProvider.buttonAppProvider\') }}\n                                </a>\n                                {{ $t(\'sw-extension-store.buy-modal.checkboxes.permissionsAndAppProvider.endText\') }}\n                            </template>\n                        </sw-checkbox-field>\n                    {% endblock %}\n\n                    {% block sw_extension_buy_modal_accept_extension_privacy_policy_extensions %}\n                        <sw-checkbox-field\n                            v-if="extension.privacyPolicyExtension"\n                            v-model="privacyExtensionsAccepted"\n                            class="sw-extension-buy-modal__checkbox-privacy-policy"\n                            :class="`sw-extension-buy-modal__checkbox-privacy-policy--${extension.name}`"\n                        >\n                            <template #label>\n                                <span class="is--required">\n                                    {{ $tc(\'sw-extension-store.component.sw-extension-buy-modal.labelAcceptPrivacyExtensions\') }}\n                                </span>\n                                <a\n                                    href="#"\n                                    class="link privacy-policy-modal-trigger"\n                                    @click.prevent="openPrivacyModal"\n                                >\n                                    {{ $tc(\'sw-extension-store.component.sw-extension-buy-modal.buttonShowPrivacyExtensions\') }}\n                                </a>\n                            </template>\n                        </sw-checkbox-field>\n                    {% endblock %}\n\n                    {% block sw_extension_buy_modal_alert_can_not_buy %}\n                        <sw-alert v-if="!userCanBuyFromStore" variant="info">\n                            {% block sw_extension_buy_modal_alert_can_not_buy_content %}\n                                {{ $tc(\'sw-extension-store.component.sw-extension-buy-modal.alertCanNotBuy.text\') }}\n                            {% endblock %}\n                        </sw-alert>\n                    {% endblock %}\n\n                    {% block sw_extension_buy_modal_alert_payment_means_required %}\n                        <sw-alert v-if="showPaymentWarning" variant="warning">\n                            {% block sw_extension_buy_modal_alert_payment_means_required_content %}\n                                {{ $t(\'sw-extension-store.buy-modal.warnings.paymentMeansRequiredText\') }}\n                                <sw-external-link\n                                    :href="cart && cart.payment && cart.payment.registrationUrl"\n                                    class="sw-extension-buy-modal__external-link"\n                                >\n                                    {{ $t(\'sw-extension-store.buy-modal.warnings.paymentMeansRequiredLinkText\') }}\n                                    <sw-icon name="regular-long-arrow-right"></sw-icon>\n                                </sw-external-link>\n                            {% endblock %}\n                        </sw-alert>\n                    {% endblock %}\n\n                    {% block sw_extension_buy_modal_button_purchase %}\n                        <sw-button variant="primary"\n                                   block\n                                   :disabled="!canPurchaseExtension"\n                                   @click="purchaseExtension">\n                            {{ purchaseButtonLabel }}\n                        </sw-button>\n                    {% endblock %}\n                {% endblock %}\n\n                {% block sw_extension_buy_modal_permissions_modal %}\n                    <sw-extension-permissions-modal\n                        v-if="showPermissionsModal"\n                        :extensionLabel="extension.label"\n                        :domains="extension.domains"\n                        :permissions="extension.permissions"\n                        @modal-close="closePermissionsModal">\n                    </sw-extension-permissions-modal>\n                {% endblock %}\n\n                {% block sw_extension_buy_modal_privacy_extensions_modal %}\n                    <sw-extension-privacy-policy-extensions-modal\n                        v-if="showPrivacyModal"\n                        :extensionName="extension.label"\n                        :privacyPolicyExtension="extension.privacyPolicyExtension"\n                        @modal-close="closePrivacyModal">\n                    </sw-extension-privacy-policy-extensions-modal>\n                {% endblock %}\n\n                {% block sw_extension_buy_modal_legal_text_modal %}\n                    <sw-modal\n                        v-if="showLegalTextModal"\n                        @modal-close="closeLegalTextModal"\n                        class="sw-extension-buy-modal__legal-text-modal"\n                        :title="$t(\'sw-extension-store.buy-modal.legalTextModal.title\')">\n                        <div v-html="legalText"></div>\n\n                        <template #modal-footer>\n                            <sw-button\n                                variant="primary"\n                                size="small"\n                                @click="closeLegalTextModal">\n                                {{ $tc(\'global.default.close\') }}\n                            </sw-button>\n                        </template>\n                    </sw-modal>\n                {% endblock %}\n            </template>\n        {% endblock %}\n    </sw-modal>\n{% endblock %}\n',inject:["shopwareExtensionService","extensionStoreLicensesService"],emits:["modal-close"],mixins:["sw-extension-error"],props:{extension:{type:Object,required:!0}},data:function(){return{tocAccepted:!1,selectedVariantId:null,isLoading:!1,permissionsAccepted:!1,legalTextAccepted:!1,showPermissionsModal:!1,showLegalTextModal:!1,privacyExtensionsAccepted:!1,showPrivacyModal:!1,checkoutStep:null,checkoutError:null,cart:null,paymentMeans:[]}},computed:{recommendedVariants:function(){return this.shopwareExtensionService.orderVariantsByRecommendation(this.extension.variants)},selectedVariant:function(){var e=this;return this.extension.variants.find((function(n){return n.id===e.selectedVariantId}))},todayPlusOneMonth:function(){var e=new Date;return e.setMonth(e.getMonth()+1),e},dateFilter:function(){return s.format.date},formattedPrice:function(){var e=this.cart&&this.cart.positions&&this.cart.positions[0],n=e&&e.netPrice;return n&&e&&e.firstMonthFree?s.format.currency(0,"EUR"):n?s.format.currency(n,"EUR",2):s.format.currency(this.shopwareExtensionService.getPriceFromVariant(this.selectedVariant),"EUR")},trialPrice:function(){return this.renderPrice(0)},purchaseButtonLabel:function(){switch(this.selectedVariant.type){case this.shopwareExtensionService.EXTENSION_VARIANT_TYPES.FREE:return this.$tc("sw-extension-store.component.sw-extension-buy-modal.purchaseButtonsLabels.free");case this.shopwareExtensionService.EXTENSION_VARIANT_TYPES.RENT:return this.$tc("sw-extension-store.component.sw-extension-buy-modal.purchaseButtonsLabels.rent");case this.shopwareExtensionService.EXTENSION_VARIANT_TYPES.BUY:default:return this.$tc("sw-extension-store.component.sw-extension-buy-modal.purchaseButtonsLabels.buy")}},vatIncludedClasses:function(){return{"is--hidden":this.selectedVariant.type===this.shopwareExtensionService.EXTENSION_VARIANT_TYPES.FREE}},renewalDateClasses:function(){return{"is--hidden":this.selectedVariant.type!==this.shopwareExtensionService.EXTENSION_VARIANT_TYPES.RENT}},extensionHasPermissions:function(){return!!Object.keys(this.extension.permissions).length},canPurchaseExtension:function(){return this.tocAccepted&&this.permissionsAccepted&&this.legalTextAccepted&&this.privacyExtensionsAccepted&&this.userCanBuyFromStore&&!this.showPaymentWarning},userCanBuyFromStore:function(){this.tocAccepted;return null!==Shopware.State.get("shopwareExtensions").userInfo},showPaymentWarning:function(){return(this.paymentMeans||[]).length<=0&&this.cart&&this.cart.payment&&this.cart.payment.paymentMeanRequired},checkoutSteps:function(){return Object.freeze({CHECKOUT:null,SUCCESS:"checkout-success",FAILED:"checkout-failed"})},showPaymentSelection:function(){return(this.paymentMeans||[]).length>0&&this.cart&&this.cart.payment&&this.cart.payment.paymentMeanRequired},paymentText:function(){return this.cart&&this.cart.payment&&this.cart.payment.paymentText?this.$sanitize(this.cart.payment.paymentText,{ALLOWED_TAGS:["a","b","i","u","br","strong","p","br"],ALLOWED_ATTR:["href","target","rel"]}):null},legalText:function(){return this.cart&&this.cart.legalText?this.$sanitize(this.cart.legalText,{ALLOWED_TAGS:["a","b","i","u","br","strong","p","br"],ALLOWED_ATTR:["href","target","rel"]}):null},selectedPaymentMean:{get:function(){return this.cart&&this.cart.payment&&this.cart.payment.paymentMean&&this.cart.payment.paymentMean.id},set:function(e){this.cart&&this.cart.payment&&this.cart.payment.paymentMean&&(this.cart.payment.paymentMean.id=e),this.cart.payment.paymentMean={id:e}}},checkoutErrorDocumentationLink:function(){return s.get(this.checkoutError,"meta.documentationLink",null)},firstMonthFree:function(){return this.cart&&this.cart.positions[0]&&!0===this.cart.positions[0].firstMonthFree}},created:function(){var e=this;return a(i().mark((function n(){var t;return i().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return t=e.recommendedVariants.length>0?e.recommendedVariants[0].id:null,e.setSelectedVariantId(t),e.permissionsAccepted=!e.extensionHasPermissions,e.privacyExtensionsAccepted=!e.extension.privacyPolicyExtension,n.next=6,e.fetchPlan();case 6:e.legalTextAccepted=!e.legalText;case 7:case"end":return n.stop()}}),n)})))()},watch:{selectedVariantId:function(){this.getCart()},userCanBuyFromStore:function(e){e&&this.getCart()},permissionsAccepted:function(e){this.legalTextAccepted=e}},methods:{emitClose:function(){this.isLoading||this.$emit("modal-close")},setSelectedVariantId:function(e){this.isLoading||(this.selectedVariantId=e)},variantCardClass:function(e){return{"is--selected":e.id===this.selectedVariantId}},onChangeVariantSelection:function(e){this.setSelectedVariantId(e.id)},variantRecommendation:function(e){return this.shopwareExtensionService.mapVariantToRecommendation(e)},purchaseExtension:function(){var e=this;return a(i().mark((function n(){var t;return i().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return e.isLoading=!0,t=null,n.prev=2,n.next=5,e.orderCart();case 5:return n.next=7,e.shopwareExtensionService.updateExtensionData();case 7:t=e.checkoutSteps.SUCCESS,n.next=15;break;case 10:n.prev=10,n.t0=n.catch(2),e.handleErrors(n.t0),t=e.checkoutSteps.FAILED,s.get(n.t0,"response.data.errors[0]",null)&&(e.checkoutError=n.t0.response.data.errors[0]);case 15:return n.prev=15,n.next=18,e.shopwareExtensionService.updateExtensionData();case 18:return e.checkoutStep=t,e.isLoading=!1,n.finish(15);case 21:case"end":return n.stop()}}),n,null,[[2,10,15,21]])})))()},orderCart:function(){var e=this;return a(i().mark((function n(){return i().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,e.extensionStoreLicensesService.orderCart(e.cart);case 2:case"end":return n.stop()}}),n)})))()},getCart:function(){var e=this;return a(i().mark((function n(){var t;return i().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(e.userCanBuyFromStore){n.next=2;break}return n.abrupt("return");case 2:return e.isLoading=!0,n.prev=3,n.next=6,e.extensionStoreLicensesService.newCart(e.extension.id,e.selectedVariantId);case 6:t=n.sent,e.cart=t.data,n.next=15;break;case 10:n.prev=10,n.t0=n.catch(3),e.handleErrors(n.t0),e.isLoading=!1,e.emitClose();case 15:return n.prev=15,e.isLoading=!1,n.finish(15);case 18:case"end":return n.stop()}}),n,null,[[3,10,15,18]])})))()},getDiscountClasses:function(e){return{"is--discounted":this.hasDiscount(e)}},hasDiscount:function(e){var n=e.discountCampaign;return n&&new Date(Date.parse(n.startDate))<new Date&&new Date(Date.parse(n.endDate))>=new Date},renderPrice:function(e){return s.format.currency(e,"EUR")},renderBuyPrice:function(e){return this.hasDiscount(e)?this.renderPrice(e.discountCampaign.discountedPrice):this.renderPrice(e.netPrice)},getDiscountPrice:function(e){return e.discountCampaign?this.renderPrice(e.discountCampaign.discountedPrice):this.trialPrice},getDiscountEnds:function(e){return s.format.date(e.discountCampaign?new Date(Date.parse(e.discountCampaign.endDate)):null)},handleErrors:function(e){this.showExtensionErrors(e)},openPermissionsModal:function(){this.showPermissionsModal=!0},closePermissionsModal:function(){this.showPermissionsModal=!1},openLegalTextModal:function(){this.showLegalTextModal=!0},closeLegalTextModal:function(){this.showLegalTextModal=!1},fetchPlan:function(){var e=this;return a(i().mark((function n(){return i().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return e.isLoading=!0,n.next=3,e.shopwareExtensionService.checkLogin();case 3:return n.next=5,e.getPaymentMeans();case 5:e.isLoading=!1;case 6:case"end":return n.stop()}}),n)})))()},getPaymentMeans:function(){var e=this;return a(i().mark((function n(){return i().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:e.extensionStoreLicensesService.getPaymentMeans().then((function(n){e.paymentMeans=n.data})).catch((function(n){var t=n.response&&n.response.data&&n.response.data.errors||[];Array.isArray(t)?t.forEach((function(n){e.createNotificationError({system:!0,autoClose:!1,growl:!0,title:n.title,message:n.detail})})):Shopware.Utils.debug.warn("Payment loading error",n)}));case 1:case"end":return n.stop()}}),n)})))()},legalTextForVariant:function(e){return e&&e.legalText?this.$sanitize(e.legalText,{ALLOWED_TAGS:["a","b","i","u","br","strong","p","br"],ALLOWED_ATTR:["href","target","rel"]}):null},openPrivacyModal:function(){this.showPrivacyModal=!0},closePrivacyModal:function(){this.showPrivacyModal=!1}}}},ydqr:function(e,n,t){"use strict";function o(e,n){for(var t=[],o={},i=0;i<n.length;i++){var r=n[i],a=r[0],s={id:e+":"+i,css:r[1],media:r[2],sourceMap:r[3]};o[a]?o[a].parts.push(s):t.push(o[a]={id:a,parts:[s]})}return t}t.r(n),t.d(n,"default",(function(){return _}));var i="undefined"!=typeof document;if("undefined"!=typeof DEBUG&&DEBUG&&!i)throw new Error("vue-style-loader cannot be used in a non-browser environment. Use { target: 'node' } in your Webpack config to indicate a server-rendering environment.");var r={},a=i&&(document.head||document.getElementsByTagName("head")[0]),s=null,c=0,l=!1,u=function(){},d=null,p="data-vue-ssr-id",m="undefined"!=typeof navigator&&/msie [6-9]\b/.test(navigator.userAgent.toLowerCase());function _(e,n,t,i){l=t,d=i||{};var a=o(e,n);return h(a),function(n){for(var t=[],i=0;i<a.length;i++){var s=a[i];(c=r[s.id]).refs--,t.push(c)}n?h(a=o(e,n)):a=[];for(i=0;i<t.length;i++){var c;if(0===(c=t[i]).refs){for(var l=0;l<c.parts.length;l++)c.parts[l]();delete r[c.id]}}}}function h(e){for(var n=0;n<e.length;n++){var t=e[n],o=r[t.id];if(o){o.refs++;for(var i=0;i<o.parts.length;i++)o.parts[i](t.parts[i]);for(;i<t.parts.length;i++)o.parts.push(y(t.parts[i]));o.parts.length>t.parts.length&&(o.parts.length=t.parts.length)}else{var a=[];for(i=0;i<t.parts.length;i++)a.push(y(t.parts[i]));r[t.id]={id:t.id,refs:1,parts:a}}}}function v(){var e=document.createElement("style");return e.type="text/css",a.appendChild(e),e}function y(e){var n,t,o=document.querySelector("style["+p+'~="'+e.id+'"]');if(o){if(l)return u;o.parentNode.removeChild(o)}if(m){var i=c++;o=s||(s=v()),n=x.bind(null,o,i,!1),t=x.bind(null,o,i,!0)}else o=v(),n=w.bind(null,o),t=function(){o.parentNode.removeChild(o)};return n(e),function(o){if(o){if(o.css===e.css&&o.media===e.media&&o.sourceMap===e.sourceMap)return;n(e=o)}else t()}}var f,b=(f=[],function(e,n){return f[e]=n,f.filter(Boolean).join("\n")});function x(e,n,t,o){var i=t?"":o.css;if(e.styleSheet)e.styleSheet.cssText=b(n,i);else{var r=document.createTextNode(i),a=e.childNodes;a[n]&&e.removeChild(a[n]),a.length?e.insertBefore(r,a[n]):e.appendChild(r)}}function w(e,n){var t=n.css,o=n.media,i=n.sourceMap;if(o&&e.setAttribute("media",o),d.ssrId&&e.setAttribute(p,n.id),i&&(t+="\n/*# sourceURL="+i.sources[0]+" */",t+="\n/*# sourceMappingURL=data:application/json;base64,"+btoa(unescape(encodeURIComponent(JSON.stringify(i))))+" */"),e.styleSheet)e.styleSheet.cssText=t;else{for(;e.firstChild;)e.removeChild(e.firstChild);e.appendChild(document.createTextNode(t))}}},zTnj:function(e,n,t){}}]);
//# sourceMappingURL=2.js.map