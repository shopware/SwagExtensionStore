(this["webpackJsonpPluginswag-extension-store"]=this["webpackJsonpPluginswag-extension-store"]||[]).push([[8],{"3Sxm":function(e,t,n){},"6KZc":function(e,t,n){var r=n("3Sxm");r.__esModule&&(r=r.default),"string"==typeof r&&(r=[[e.i,r,""]]),r.locals&&(e.exports=r.locals);(0,n("ydqr").default)("1a45f834",r,!0,{})},mAWb:function(e,t,n){"use strict";n.r(t);n("6KZc");function r(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,i,o,s,a=[],l=!0,u=!1;try{if(o=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;l=!1}else for(;!(l=(r=o.call(n)).done)&&(a.push(r.value),a.length!==t);l=!0);}catch(e){u=!0,i=e}finally{try{if(!l&&null!=n.return&&(s=n.return(),Object(s)!==s))return}finally{if(u)throw i}}return a}}(e,t)||o(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function i(e){return function(e){if(Array.isArray(e))return s(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||o(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function o(e,t){if(e){if("string"==typeof e)return s(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?s(e,t):void 0}}function s(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var a=Shopware.Data.Criteria;t.default={template:'{% block sw_extension_store_listing_filter %}\n    <div class="sw-extension-store-listing-filter">\n        <template v-if="!isLoading">\n            {% block sw_extension_store_listing_filter_content %}\n                {% block sw_extension_store_listing_filter_sorting %}\n                    <sw-meteor-single-select\n                        class="sw-extension-store-listing-filter__sorting"\n                        size="small"\n                        :label="$tc(\'sw-extension.store.listing.sort\')"\n                        :options="sortingOptions"\n                        valueProperty="orderIdentifier"\n                        :value="sortingValue"\n                        {% if VUE3 %}\n                        @update:value="setSelectedSorting"\n                        {% else %}\n                        @change="setSelectedSorting"\n                        {% endif %}\n                    >\n                    </sw-meteor-single-select>\n                {% endblock %}\n\n                {% block sw_extension_store_listing_all_filters %}\n                    <sw-meteor-single-select\n                        v-for="filter in listingFiltersSorted"\n                        class="sw-extension-store-listing-filter__filters"\n                        :key="filter.name"\n                        size="small"\n                        :label="filter.label"\n                        :options="getOptionsForFilter(filter)"\n                        :value="getValueForFilter(filter)"\n                        {% if VUE3 %}\n                        @update:value="changeValueForFilter(filter, $event)"\n                        {% else %}\n                        @change="changeValueForFilter(filter, $event)"\n                        {% endif %}\n                    >\n                        <template v-if="filter.type === \'category\'"\n                                  #result-label-property="{ item, valueProperty }">\n                            {% block sw_extension_store_listing_filter_category_filter_result %}\n                                <div v-if="item[valueProperty] !== null"\n                                     :class="{ \'is--root-category\': isRootCategory(item) }"\n                                     :style="{ \'padding-left\': isRootCategory(item) ? \'0\': `${categoryDepth(item)}em` }">\n                                    {{ item.label }}\n                                </div>\n                            {% endblock %}\n                        </template>\n                    </sw-meteor-single-select>\n                {% endblock %}\n            {% endblock %}\n        </template>\n        <template v-else>\n            <sw-loader></sw-loader>\n        </template>\n    </div>\n{% endblock %}\n',mixins:["notification"],inject:["extensionStoreDataService","feature"],data:function(){return{isLoading:!0,listingFilters:[],listingSorting:{}}},computed:{search:function(){return Shopware.State.get("shopwareExtensions").search},activeFilters:{get:function(){return Shopware.State.get("shopwareExtensions").search.filter},set:function(e){Shopware.State.get("shopwareExtensions").search.filter=e}},sortingOptions:function(){return this.listingSorting.options?this.listingSorting.options.map((function(e){return e.orderIdentifier="".concat(e.orderBy,"##").concat(e.orderSequence),e})):[]},defaultSortingValue:function(){return this.listingSorting.default?"".concat(this.listingSorting.default.orderBy,"##").concat(this.listingSorting.default.orderSequence):null},sortingValue:function(){var e=this.search.sorting&&this.search.sorting.field,t=this.search.sorting&&this.search.sorting.order;return e&&t?"".concat(e,"##").concat(t):this.defaultSortingValue},listingFiltersSorted:function(){var e=i(this.listingFilters);e.sort((function(e,t){return e.position-t.position})),e.forEach((function(e){e.options.sort((function(e,t){return e.position-t.position}))}));var t=e.find((function(e){return"category"===e.type}));return t&&(t.options=this.getOrderedCategories(t.options)),e}},created:function(){this.createdComponent()},methods:{createdComponent:function(){this.fetchListingFilters()},fetchListingFilters:function(){var e=this;return this.extensionStoreDataService.listingFilters().then((function(t){var n=t.filter,r=t.sorting;e.listingFilters=n,e.listingSorting=r})).catch((function(t){e.createNotificationError({message:t})})).finally((function(){e.isLoading=!1}))},getValueForFilter:function(e){return this.activeFilters[e.name]||null},changeValueForFilter:function(e,t){t?this.feature.isActive("VUE3")?this.activeFilters[e.name]=t:this.$set(this.activeFilters,e.name,t):this.$delete(this.activeFilters,e.name)},getOptionsForFilter:function(e){return[{label:this.$tc("sw-extension.store.listing.anyOption"),value:null}].concat(i(e.options))},setSelectedSorting:function(e){var t=r(e.split("##"),2),n=t[0],i=t[1];Shopware.State.commit("shopwareExtensions/setSearchValue",{key:"sorting",value:a.sort(n,i)})},isRootCategory:function(e){return null===e.parent||void 0===e.parent},categoryDepth:function(e){for(var t=0,n=this.getCategoryByName(e.parent);n;)t+=1,n=this.getCategoryByName(n.parent)?this.getCategoryByName(n.parent):null;return t},getCategoryByName:function(e){return this.listingFilters.find((function(e){return"category"===e.type})).options.find((function(t){return t.label===e||t.value===e||t.name===e}))},getOrderedCategories:function(e){var t=new Map;return t.set(null,{value:null,children:[]}),e.forEach((function(e){t.set(e.value,{value:e,children:[]})})),e.forEach((function(e){t.get(e.parent).children.push(t.get(e.value))})),this.flatTree(t.get(null))},flatTree:function(e){var t=this,n=e.value?[e.value]:[];return e.children.sort((function(e,t){return e.value.position-t.value.position})).forEach((function(e){return n.push.apply(n,i(t.flatTree(e)))})),n}}}},ydqr:function(e,t,n){"use strict";function r(e,t){for(var n=[],r={},i=0;i<t.length;i++){var o=t[i],s=o[0],a={id:e+":"+i,css:o[1],media:o[2],sourceMap:o[3]};r[s]?r[s].parts.push(a):n.push(r[s]={id:s,parts:[a]})}return n}n.r(t),n.d(t,"default",(function(){return p}));var i="undefined"!=typeof document;if("undefined"!=typeof DEBUG&&DEBUG&&!i)throw new Error("vue-style-loader cannot be used in a non-browser environment. Use { target: 'node' } in your Webpack config to indicate a server-rendering environment.");var o={},s=i&&(document.head||document.getElementsByTagName("head")[0]),a=null,l=0,u=!1,c=function(){},f=null,d="data-vue-ssr-id",g="undefined"!=typeof navigator&&/msie [6-9]\b/.test(navigator.userAgent.toLowerCase());function p(e,t,n,i){u=n,f=i||{};var s=r(e,t);return h(s),function(t){for(var n=[],i=0;i<s.length;i++){var a=s[i];(l=o[a.id]).refs--,n.push(l)}t?h(s=r(e,t)):s=[];for(i=0;i<n.length;i++){var l;if(0===(l=n[i]).refs){for(var u=0;u<l.parts.length;u++)l.parts[u]();delete o[l.id]}}}}function h(e){for(var t=0;t<e.length;t++){var n=e[t],r=o[n.id];if(r){r.refs++;for(var i=0;i<r.parts.length;i++)r.parts[i](n.parts[i]);for(;i<n.parts.length;i++)r.parts.push(m(n.parts[i]));r.parts.length>n.parts.length&&(r.parts.length=n.parts.length)}else{var s=[];for(i=0;i<n.parts.length;i++)s.push(m(n.parts[i]));o[n.id]={id:n.id,refs:1,parts:s}}}}function v(){var e=document.createElement("style");return e.type="text/css",s.appendChild(e),e}function m(e){var t,n,r=document.querySelector("style["+d+'~="'+e.id+'"]');if(r){if(u)return c;r.parentNode.removeChild(r)}if(g){var i=l++;r=a||(a=v()),t=S.bind(null,r,i,!1),n=S.bind(null,r,i,!0)}else r=v(),t=w.bind(null,r),n=function(){r.parentNode.removeChild(r)};return t(e),function(r){if(r){if(r.css===e.css&&r.media===e.media&&r.sourceMap===e.sourceMap)return;t(e=r)}else n()}}var y,b=(y=[],function(e,t){return y[e]=t,y.filter(Boolean).join("\n")});function S(e,t,n,r){var i=n?"":r.css;if(e.styleSheet)e.styleSheet.cssText=b(t,i);else{var o=document.createTextNode(i),s=e.childNodes;s[t]&&e.removeChild(s[t]),s.length?e.insertBefore(o,s[t]):e.appendChild(o)}}function w(e,t){var n=t.css,r=t.media,i=t.sourceMap;if(r&&e.setAttribute("media",r),f.ssrId&&e.setAttribute(d,t.id),i&&(n+="\n/*# sourceURL="+i.sources[0]+" */",n+="\n/*# sourceMappingURL=data:application/json;base64,"+btoa(unescape(encodeURIComponent(JSON.stringify(i))))+" */"),e.styleSheet)e.styleSheet.cssText=n;else{for(;e.firstChild;)e.removeChild(e.firstChild);e.appendChild(document.createTextNode(n))}}}}]);