(window["webpackJsonpPluginswag-extension-store"]=window["webpackJsonpPluginswag-extension-store"]||[]).push([[257],{87:function(){},257:function(e,n,t){"use strict";t.r(n),t.d(n,{default:function(){return i}}),t(635);let{Utils:s}=Shopware;var i={template:'{% block sw_extension_store_detail %}\n    <sw-meteor-page\n        v-if="fetchError"\n        :hideIcon="true"\n        class="sw-extension-store-detail"\n    >\n        <div class="sw-extension-store-detail__extension-unknown" >\n            <sw-label\n                appearance="pill"\n                variant="danger"\n            >\n                <sw-icon\n                    name="regular-times-circle"\n                    size="30px"\n                ></sw-icon>\n            </sw-label>\n            <h2>{{ fetchError.title }}</h2>\n            <p>{{ fetchError.detail }}</p>\n        </div>\n    </sw-meteor-page>\n\n    <sw-meteor-page\n        v-else-if="suspended || isLoading"\n        :hideIcon="suspended"\n        class="sw-extension-store-detail"\n    >\n        {% block sw_extension_store_detail_loader %}<sw-loader></sw-loader>{% endblock %}\n    </sw-meteor-page>\n\n    <sw-meteor-page\n        v-else\n        :class="variantClass"\n        class="sw-extension-store-detail"\n    >\n        {% block sw_extension_store_detail_smart_bar %}\n            {% block sw_extension_store_detail_slot_icon %}\n                <template #smart-bar-icon>\n                    {% block sw_extension_store_detail_icon %}\n                        <sw-extension-icon\n                            class="sw-extension-store-detail__extension-icon"\n                            :src="extension.icon"\n                        />\n                    {% endblock %}\n                </template>\n            {% endblock %}\n\n            {% block sw_extension_store_detail_slot_smart_bar_header %}\n                <template #smart-bar-header>\n                    {% block sw_extension_store_detail_smart_bar_title %}\n                        {{ extension.label }}\n                    {% endblock %}\n                </template>\n            {% endblock %}\n\n            {% block sw_extension_store_detail_slot_smart_bar_header_meta %}\n                <template #smart-bar-header-meta>\n                    {% block sw_extension_store_detail_smart_bar_producer_name %}\n                        <span v-if="extension.producerWebsite && extension.producerName">\n                            {{ $tc(\'sw-extension-store.detail.labelBy\') }}\n\n                            <sw-external-link\n                                small\n                                :href="extension.producerWebsite"\n                                class="link sw-extension-store-detail__producer-link"\n                            >\n                                {{ extension.producerName }}\n                            </sw-external-link>\n                        </span>\n\n                        <span v-else-if="extension.producerName">\n                            {{ $tc(\'sw-extension-store.detail.labelBy\') }} {{ extension.producerName }}\n                        </span>\n                    {% endblock %}\n\n                    {% block sw_extension_store_detail_slot_smart_bar_header_meta_extension_type_label %}\n                        <sw-extension-type-label\n                            :type="extension.type"\n                            class="sw-extension-store-detail__extension-type-label"\n                        ></sw-extension-type-label>\n                    {% endblock %}\n                </template>\n            {% endblock %}\n\n            {% block sw_extension_store_detail_slot_smart_bar_description %}\n                <template #smart-bar-description>\n                    {% block sw_extension_store_detail_smart_bar_description %}\n                        {% block sw_extension_store_detail_label_and_rating_overview %}\n                            <div class="sw-extension-store-detail__label-and-rating-overview">\n\n                                {% block sw_extension_store_detail_rating_overview %}\n                                    <div class="sw-extension-store-detail__rating-overview">\n                                        {% block sw_extension_store_detail_rating_overview_content %}\n                                            <template v-if="extension.numberOfRatings > 0">\n                                                {% block sw_extension_store_detail_rating_overview_ratings %}\n                                                    <sw-extension-rating-stars\n                                                        :rating="extension.rating"\n                                                        :size="12"\n                                                    />\n\n                                                    <router-link\n                                                        class="sw-extension-store-detail__number-of-reviews"\n                                                        :to="{ name: \'sw.extension.store.detail\', params: { id: id }, hash: \'#ratings-card\'}"\n                                                    >\n                                                        {{ $tc(\'sw-extension-store.detail.numberOfRatings\', extension.numberOfRatings)}}\n                                                    </router-link>\n                                                {% endblock %}\n\n                                                {% block sw_extension_store_detail_label_display %}\n                                                    <sw-extension-store-label-display\n                                                        v-if="extension.labels.length > 0"\n                                                        :labels="extension.labels"\n                                                        class="sw-extension-store-detail__label-display"\n                                                    />\n                                                {% endblock %}\n                                            </template>\n\n                                            <template v-else>\n                                                {% block sw_extension_store_detail_rating_overview_no_ratings %}\n                                                    <sw-icon\n                                                        name="solid-star"\n                                                        size="12px"\n                                                    ></sw-icon>\n\n                                                    <span class="sw-extension-store-detail__no-ratings-text">{{ $tc(\'sw-extension-store.detail.noRatings\') }}</span>\n                                                {% endblock %}\n                                            </template>\n                                        {% endblock %}\n                                    </div>\n                                {% endblock %}\n                            </div>\n                        {% endblock %}\n                    {% endblock %}\n                </template>\n            {% endblock %}\n\n            {% block sw_extension_store_detail_slot_smart_bar_actions %}\n                <template #smart-bar-actions>\n                    {% block sw_extension_store_detail_smart_bar_actions %}\n                        <template v-if="isPurchasable">\n                            {% block sw_extension_store_detail_smart_bar_actions_add %}\n                                {% block sw_extension_store_detail_smart_bar_actions_add_button %}\n                                    <sw-button\n                                        variant="primary"\n                                        @click="onClickAddExtension"\n                                        class="sw-extension-store-detail__action-add-extension"\n                                    >\n                                        <template v-if="extension && extension.isTheme">\n                                            {{ $tc(\'sw-extension-store.detail.labelButtonAddTheme\') }}\n                                        </template>\n                                        <template v-else>\n                                            {{ $tc(\'sw-extension-store.detail.labelButtonAddExtension\') }}\n                                        </template>\n                                    </sw-button>\n                                {% endblock %}\n\n                                {% block sw_extension_store_detail_smart_bar_price %}\n                                    <template v-if="recommendedVariant && recommendedVariant.netPrice == 0">\n                                        <span class="sw-extension-store-detail__price-free">\n                                            {{ $tc(\'sw-extension-store.general.labelFree\') }}\n                                        </span>\n                                    </template>\n                                    <span\n                                        v-else-if="recommendedVariant"\n                                        :class="discountClass"\n                                    >\n                                        <span class="sw-extension-store-detail__net-price">\n                                            {{ renderPrice(recommendedVariant.netPrice) }}\n                                        </span>\n                                        <span\n                                            v-if="recommendedVariant.netPrice !== discountedPrice"\n                                            class="sw-extension-store-detail__discounted-price"\n                                        >\n                                            {{ renderPrice(discountedPrice) }}\n                                        </span>\n                                        <span\n                                            v-if="shopwareExtensionService.mapVariantToRecommendation(recommendedVariant) === 1"\n                                            class="sw-extension-store-detail__rent-suffix"\n                                        >\n                                            {{ $tc(\'sw-extension-store.general.labelRentSuffix\') }}\n                                        </span>\n                                    </span>\n                                {% endblock %}\n\n                                {% block sw_extension_store_detail_smart_bar_discounted_price_info %}\n                                    <small\n                                        v-if="hasActiveDiscount"\n                                        class="sw-extension-store-detail__discounted-price-info"\n                                    >\n                                        <template v-if="!!discountAppliesForMonths">\n                                            {{ $tc(\'sw-extension-store.detail.labelDiscountPeriod\', discountAppliesForMonths, { months: discountAppliesForMonths }) }}\n                                        </template>\n\n                                        {{ $tc(\'sw-extension-store.detail.labelDiscountInfo\', 0, { endDate: dateFilter(recommendedVariant.discountCampaign.endDate) }) }}\n                                    </small>\n                                {% endblock %}\n\n                                {% block sw_extension_store_detail_smart_bar_actions_trial_info %}\n                                    <sw-button\n                                        v-if="recommendedVariant && recommendedVariant.trialPhaseIncluded"\n                                        @click="onClickAddExtension"\n                                        class="sw-extension-store-detail__trial-info"\n                                    >\n                                        {{ $tc(\'sw-extension-store.detail.hasTrialPhase\') }}\n                                    </sw-button>\n                                {% endblock %}\n                            {% endblock %}\n                        </template>\n\n                        <template v-else-if="isLicensed">\n                            {% block sw_extension_store_detail_smart_bar_actions_install %}\n                                <sw-button-process\n                                    v-if="!isInstalled"\n                                    variant="primary"\n                                    @click.prevent="handleInstallWithPermissionsModal"\n                                    :is-loading="isInstalling"\n                                    :process-success="isInstallSuccessful"\n                                    @process-finish="finishedInstall"\n                                    class="sw-extension-store-detail__action-install-extension"\n                                >\n                                    <template v-if="extension && extension.isTheme">\n                                        {{ $tc(\'sw-extension-store.detail.labelButtonInstallTheme\') }}\n                                    </template>\n                                    <template v-else>\n                                        {{ $tc(\'sw-extension-store.detail.labelButtonInstallExtension\') }}\n                                    </template>\n                                </sw-button-process>\n                            {% endblock %}\n\n                            {% block sw_extension_store_detail_smart_bar_actions_already_installed %}\n                                <sw-button\n                                    v-else-if="!canBeOpened && !isConfigurable"\n                                    variant="primary"\n                                    @click="openListingPage"\n                                    class="sw-extension-store-detail__action-open-listing"\n                                >\n                                    <template v-if="extension && extension.isTheme">\n                                        {{ $tc(\'sw-extension-store.detail.themeIsAlreadyInstalled\') }}\n                                    </template>\n                                    <template v-else>\n                                        {{ $tc(\'sw-extension-store.detail.extensionIsAlreadyInstalled\') }}\n                                    </template>\n                                </sw-button>\n                            {% endblock %}\n\n                            {% block sw_extension_store_detail_smart_bar_actions %}\n                                <sw-button-group\n                                    v-else-if="canBeOpened"\n                                    splitButton\n                                >\n                                    {% block sw_extension_store_detail_smart_bar_actions_open_extension %}\n                                        <sw-button\n                                            @click="openExtension"\n                                            variant="primary"\n                                            class="sw-extension-store-detail__action-open-extension"\n                                        >\n                                            <template v-if="extension && extension.isTheme">\n                                                {{ $tc(\'sw-extension-store.detail.labelButtonOpenTheme\') }}\n                                            </template>\n                                            <template v-else>\n                                                {{ $tc(\'sw-extension-store.detail.labelButtonOpenExtension\') }}\n                                            </template>\n                                        </sw-button>\n                                    {% endblock %}\n\n                                    {% block sw_extension_store_detail_smart_bar_actions_open_extension_context %}\n                                        <sw-context-button\n                                            v-if="isConfigurable"\n                                            class="sw-extension-store-detail__action-context"\n                                        >\n                                            <template #button>\n                                                <sw-button\n                                                    variant="primary"\n                                                    square\n                                                >\n                                                    <sw-icon\n                                                        name="regular-chevron-down-xs"\n                                                        size="16"\n                                                    ></sw-icon>\n                                                </sw-button>\n                                            </template>\n\n                                            <sw-context-menu-item @click="openConfiguration">\n                                                {{ $tc(\'sw-extension-store.detail.openConfiguration\') }}\n                                            </sw-context-menu-item>\n                                        </sw-context-button>\n                                    {% endblock %}\n                                </sw-button-group>\n                            {% endblock %}\n\n                            {% block sw_extension_store_detail_smart_bar_actions_open_configuration %}\n                                <sw-button\n                                    v-else\n                                    @click="openConfiguration"\n                                    variant="primary"\n                                    class="sw-extension-store-detail__action-open-configuration"\n                                >\n                                    {{ $tc(\'sw-extension-store.detail.openConfiguration\') }}\n                                </sw-button>\n                            {% endblock %}\n                        </template>\n\n                        <template v-else-if="isEnterpriseFeature">\n                            {% block sw_extension_store_detail_smart_bar_actions_enterprise_contact %}\n                                <sw-button\n                                    variant="primary"\n                                    :link="$tc(\'sw-extension-store.detail.enterpriseContactUrl\')"\n                                    class="sw-extension-store-detail__action-enterprise-contact"\n                                >\n                                    {{ $tc(\'sw-extension-store.detail.enterpriseContactLinkText\') }}\n                                    <sw-icon\n                                        name="regular-external-link"\n                                        size="12"\n                                    ></sw-icon>\n                                </sw-button>\n                            {% endblock %}\n                        </template>\n\n                        {% block sw_extension_store_detail_buy_modal %}\n                            <sw-extension-buy-modal\n                                v-if="showBuyModal"\n                                :extension="extension"\n                                @modal-close="closeBuyModal"\n                            ></sw-extension-buy-modal>\n                        {% endblock %}\n\n                        {% block sw_extension_store_detail_installation_failed_modal %}\n                            <sw-modal\n                                v-if="showInstallationFailedModal"\n                                :title="extension.label"\n                                variant="small"\n                                @modal-close="closeInstallationFailedModal"\n                            >\n                                {% block sw_extension_store_detail_installation_failed_modal_content %}\n                                    <sw-extension-adding-failed\n                                        :extensionName="extension.name"\n                                        :title="installationError && installationError.title"\n                                        :detail="installationError && installationError.detail"\n                                        :documentationLink="installationErrorDocumentationLink"\n                                        @close="closeInstallationFailedModal"\n                                    ></sw-extension-adding-failed>\n                                {% endblock %}\n                            </sw-modal>\n                        {% endblock %}\n                    {% endblock %}\n                </template>\n            {% endblock %}\n\n            {% block sw_extension_store_detail_slot_smart_bar_context_buttons %}\n                <template #smart-bar-context-buttons>\n                    {% block sw_extension_store_detail_show_permissions %}\n                        <sw-button\n                            v-if="hasPermissions"\n                            variant="context"\n                            @click="openPermissionsModal"\n                            size="small"\n                        >\n                            <sw-icon\n                                name="solid-shield"\n                                size="16px"\n                            ></sw-icon>\n                            {{ $tc(\'sw-extension-store.detail.labelButtonShowPermissions\') }}\n                        </sw-button>\n                    {% endblock %}\n                </template>\n            {% endblock %}\n        {% endblock %}\n\n        {% block sw_extension_store_detail_page_content %}\n            {% block sw_extension_sote_detail_page_info_alerts %}\n                <sw-alert\n                    v-if="isEnterpriseFeature"\n                    variant="info"\n                    class="sw-extension-store-detail__alert"\n                >\n                    {{ $tc(\'sw-extension-store.detail.enterpriseFeatureAlertText\') }}\n                </sw-alert>\n            {% endblock %}\n\n            {% block sw_extension_store_detail_images %}\n                <sw-extension-store-slider\n                    :images="images"\n                    :slideCount="1"\n                ></sw-extension-store-slider>\n            {% endblock %}\n\n            {% block sw_extension_store_detail_card_info %}\n                <sw-meteor-card\n                    :title="$tc(\'sw-extension-store.detail.cardTitleInformation\')"\n                    class="sw-extension-store-detail--user-provided-data"\n                >\n                    {% block sw_extension_store_detail_card_info_content %}\n                        <div\n                            v-html="description"\n                            :class="{ \'sw-extension-store-detail__description--collapsed\': isDescriptionCollapsed }"\n                            class="sw-extension-store-detail__description"\n                        ></div>\n                    {% endblock %}\n\n                    {% block sw_extension_store_details_expand_description %}\n                        <sw-button\n                            v-if="isDescriptionCollapsed"\n                            @click="expandDescription"\n                            size="small"\n                            class="sw-extension-store-detail__button-extend-description"\n                        >\n                            {{ $tc(\'sw-extension-store.detail.labelButtonReadMore\') }}\n                        </sw-button>\n                    {% endblock %}\n                </sw-meteor-card>\n            {% endblock %}\n\n            {% block sw_extension_store_detail_card_details %}\n                <sw-meteor-card :title="$tc(\'sw-extension-store.detail.cardTitleDetails\')">\n                    {% block sw_extension_store_detail_card_details_content %}\n                        <dl class="sw-extension-store-detail__details-list">\n                            {% block sw_extension_store_detail_card_details_category %}\n                                <dt>{{ $tc(\'sw-extension-store.detail.details.labelCategory\', extension.categories.length ) }}</dt>\n                                <dd>{{ extensionCategoryNames }}</dd>\n                            {% endblock %}\n\n                            {% block sw_extension_store_detail_card_details_version %}\n                                <dt>{{ $tc(\'sw-extension-store.detail.details.labelVersion\') }}</dt>\n                                <dd>{{ extension.latestVersion }}</dd>\n                            {% endblock %}\n\n                            {% block sw_extension_store_detail_card_details_updated_at %}\n                                <dt>{{ $tc(\'sw-extension-store.detail.details.labelUpdatedAt\') }}</dt>\n                                <dd>{{ dateFilter(extension.lastUpdateDate, { month: \'numeric\', year: \'numeric\', hour: undefined, minute: undefined }) }}</dd>\n                            {% endblock %}\n\n                            {% block sw_extension_store_detail_card_details_languages %}\n                                <dt v-if="extensionLanguages.length">{{ $tc(\'sw-extension-store.detail.details.labelLanguages\') }}</dt>\n                                <dd>{{ extensionLanguages }}</dd>\n                            {% endblock %}\n\n                            {% block sw_extension_store_detail_card_details_producer_website %}\n                                <template v-if="extension.producerWebsite">\n                                    <dt>\n                                        <sw-external-link :href="extension.producerWebsite">\n                                            {{ $tc(\'sw-extension-store.detail.details.labelWebsite\') }}\n                                        </sw-external-link>\n                                    </dt>\n                                    <dd></dd>\n                                </template>\n                            {% endblock %}\n\n                            {% block sw_extension_store_detail_card_details_privacy_policy %}\n                                <template v-if="extension.privacyPolicyLink">\n                                    <dt>\n                                        <sw-external-link :href="extension.privacyPolicyLink">\n                                            {{ $tc(\'sw-extension-store.detail.details.labelPrivacy\') }}\n                                        </sw-external-link>\n                                    </dt>\n                                    <dd></dd>\n                                </template>\n                            {% endblock %}\n\n                            {% block sw_extension_store_detail_card_details_additional_entries %}{% endblock %}\n                        </dl>\n                    {% endblock %}\n                </sw-meteor-card>\n            {% endblock %}\n\n            {% block sw_extension_store_detail_card_ratings %}\n                <sw-extension-ratings-card\n                    id="ratings-card"\n                    :extension="extension"\n                    :producerName="extension.producerName"\n                    :isInstalledAndLicensed="isLicensed && isInstalled"\n                    @update-extension="fetchExtensionAndScrollToRatings">\n                </sw-extension-ratings-card>\n            {% endblock %}\n\n            {% block sw_extension_store_detail_card_faq %}\n                <sw-meteor-card\n                    v-if="extension.faq.length > 0"\n                    :title="$tc(\'sw-extension-store.detail.cardTitleFAQ\')"\n                >\n                    {% block sw_extension_store_detail_card_faq_questions %}\n                        <section\n                            v-for="(question, index) in extension.faq"\n                            :key="`sw-extension-store-detail__faq-question-${index}`"\n                            class="sw-extension-store-detail__faq-question sw-extension-store-detail--user-provided-data"\n                        >\n                            {% block sw_extension_store_detail_card_faq_questions_question %}\n                                <h4>{{ question.question }}</h4>\n                            {% endblock %}\n\n                            {% block sw_extension_store_detail_card_faq_questions_answer %}\n                                <p v-html="question.answer"></p>\n                            {% endblock %}\n                        </section>\n                    {% endblock %}\n                </sw-meteor-card>\n            {% endblock %}\n\n            {% block sw_extension_store_detail_card_changelog %}\n                <sw-meteor-card\n                    v-if="orderedBinaries.length > 0"\n                    :title="$tc(\'sw-extension-store.detail.cardTitleChangelog\')"\n                >\n                    {% block sw_extension_store_detail_card_changelog_entries %}\n                        <section\n                            v-for="(binary, index) in orderedBinaries"\n                            :key="`sw-extension-store-detail__changelog-entry-${index}`"\n                            class="sw-extension-store-detail__changelog-entry"\n                        >\n                                {% block sw_extension_store_detail_card_changelog_entries_version %}\n                                    <div class="sw-extension-store-detail__changelog-version">{{ binary.version }}</div>\n                                {% endblock %}\n\n                                {% block sw_extension_store_detail_card_changelog_entries_creation_date %}\n                                    <div class="sw-extension-store-detail__changelog-creation-date">\n                                        {{ dateFilter(binary.creationDate, { month: \'numeric\', year: \'numeric\', hour: undefined, minute: undefined }) }}\n                                    </div>\n                                {% endblock %}\n\n                                {% block sw_extension_store_detail_card_changelog_entries_changelog_text %}\n                                    <p class="sw-extension-store-detail__changelog-text" v-html="binary.text"></p>\n                                {% endblock %}\n                        </section>\n                    {% endblock %}\n                </sw-meteor-card>\n            {% endblock %}\n        {% endblock %}\n\n        {% block sw_extension_store_detail_page_modals %}\n            {% block sw_extension_store_detail_page_permission %}\n                <sw-extension-permissions-modal\n                    v-if="showPermissionsModal"\n                    :extensionLabel="extension.label"\n                    :domains="extension.domains"\n                    :permissions="extension.permissions"\n                    @modal-close="closePermissionsModal"\n                ></sw-extension-permissions-modal>\n            {% endblock %}\n\n            {% block sw_extension_store_detail_page_permission_accept %}\n                <sw-extension-permissions-modal\n                    v-if="showAcceptPermissionsModal"\n                    :extensionLabel="extension.label"\n                    :domains="extension.domains"\n                    :permissions="extension.permissions"\n                    :actionLabel="$tc(\'sw-extension-store.component.sw-extension-card-base.labelAcceptAndInstall\')"\n                    @modal-close="closeAcceptPermissionsModal"\n                    @close-with-action="closePermissionsModalAndInstallExtension"\n                ></sw-extension-permissions-modal>\n            {% endblock %}\n\n            {% block sw_extension_store_detail_page_account_modal %}\n                <sw-modal\n                    v-if="showAccountModal"\n                    class="sw-extension-store-detail__account-modal"\n                    variant="large"\n                    @modal-close="closeAccountModal"\n                >\n                    <sw-extension-my-extensions-account @login-success="onLoginSuccess"></sw-extension-my-extensions-account>\n                </sw-modal>\n            {% endblock %}\n        {% endblock %}\n    </sw-meteor-page>\n{% endblock %}\n',inject:["extensionStoreDataService","shopwareExtensionService","extensionHelperService","cacheApiService"],mixins:["sw-extension-error"],props:{id:{type:String,required:!0}},data(){return{extension:null,isLoading:!1,showBuyModal:!1,showPermissionsModal:!1,showAcceptPermissionsModal:!1,showAccountModal:!1,showInstallationFailedModal:!1,isInstalling:!1,isInstallSuccessful:!1,permissionsAccepted:!1,isDescriptionCollapsed:!1,installationError:null,fetchError:!1,canBeOpened:!1}},computed:{suspended(){return null===this.extension},extensionMetaData(){return this.suspended?null:Shopware.State.get("shopwareExtensions").myExtensions.data.find(e=>e.id===this.extension.id)},isLicensed(){return!!this.extensionMetaData&&!!this.extensionMetaData.storeLicense},isInstalled(){return!!this.extensionMetaData&&!!this.extensionMetaData.installedAt},isConfigurable(){return!!this.extensionMetaData&&this.extensionMetaData.configurable},images(){return this.suspended?[]:this.extension.images.map(e=>e.remoteLink)},extensionCategoryNames(){return this.suspended?"":this.extension.categories.map(e=>e.details.name).join(", ")},extensionLanguages(){return this.suspended?"":this.extension.languages.join(", ")},isPurchasable(){return!this.suspended&&!!this.extension.variants.length&&!this.isLicensed},languageId(){return Shopware.State.get("session").languageId},recommendedVariant(){return this.shopwareExtensionService.orderVariantsByRecommendation(this.extension.variants)[0]},dateFilter(){return Shopware.Filter.getByName("date")},hasActiveDiscount(){return this.shopwareExtensionService.isVariantDiscounted(this.recommendedVariant)},discountAppliesForMonths(){return this.hasActiveDiscount?this.recommendedVariant.discountCampaign.discountAppliesForMonths:null},discountClass(){return{"is--discounted":this.hasActiveDiscount}},discountedPrice(){return this.shopwareExtensionService.getPriceFromVariant(this.recommendedVariant)},variantClass(){return{"is--theme":this.extension&&this.extension.isTheme}},orderedBinaries(){return s.get(this.extension,"binaries",[]).slice().reverse()},description(){return s.get(this.extension,"description")},hasPermissions(){return Object.keys(this.extension.permissions).length},installationErrorDocumentationLink(){return s.get(this.installationError,"meta.documentationLink",null)},isEnterpriseFeature(){return!this.suspended&&!!this.extension.addons.find(e=>"SW6_EnterpriseFeature"===e)}},watch:{id:{immediate:!0,handler(){this.fetchExtension()}},"$route.hash"(){this.scrollToElementFromHash()},suspended(){this.suspended||this.$nextTick(()=>{this.scrollToElementFromHash()})},languageId(e){""!==e&&this.fetchExtension()},description(){this.isDescriptionCollapsed=!0,this.$nextTick(()=>{this.checkDescriptionCollapsed()})}},async created(){await this.shopwareExtensionService.updateExtensionData(),this.canBeOpened=!!this.shopwareExtensionService.getOpenLink(this.extension)},methods:{async fetchExtension(){if(this.isLoading=!0,""!==this.languageId)try{this.fetchError=!1,this.extension=await this.extensionStoreDataService.getDetail(this.id,{...Shopware.Context.api,languageId:this.languageId})}catch(n){let e=n.response.data.errors[0];if("FRAMEWORK__STORE_ERROR"===e.code&&"Extension unknown"===e.title){this.fetchError=e;let n=this.$tc("sw-extension.errors.messageToTheShopwareDocumentation",0,e.meta);this.createNotificationError({title:e.title,message:`${e.detail} <br> ${n}`,autoClose:!1});return}this.showExtensionErrors(n)}finally{this.isLoading=!1}},async fetchExtensionAndScrollToRatings(){await this.fetchExtension(),this.$router.push({hash:"#ratings-card"})},scrollToElementFromHash(){if(!this.$route.hash)return;let e=this.$el.querySelector(this.$route.hash),n=document.querySelector("div.sw-meteor-page__body"),t=document.querySelector("header.sw-meteor-page__head-area"),s=e.offsetTop-t.getBoundingClientRect().height;n.scroll({top:s,behavior:"smooth"}),this.$router.push({...this.route,hash:null})},async onClickAddExtension(){if(await this.shopwareExtensionService.checkLogin(),!Shopware.State.get("shopwareExtensions").userInfo){this.openAccountModal();return}this.openBuyModal()},renderPrice(e){return s.format.currency(e,"EUR")},onLoginSuccess(){this.closeAccountModal(),this.openBuyModal()},openBuyModal(){this.showBuyModal=!0},closeBuyModal(){this.showBuyModal=!1},openAccountModal(){this.showAccountModal=!0},closeAccountModal(){this.showAccountModal=!1},openPermissionsModal(){this.showPermissionsModal=!0},closePermissionsModal(){this.showPermissionsModal=!1},openAcceptPermissionsModal(){this.showAcceptPermissionsModal=!0},closeAcceptPermissionsModal(){this.showAcceptPermissionsModal=!1},async closePermissionsModalAndInstallExtension(){this.permissionsAccepted=!0,this.closeAcceptPermissionsModal(),await this.installExtension()},async handleInstallWithPermissionsModal(){if(Object.keys(this.extension.permissions).length){this.openAcceptPermissionsModal();return}this.permissionsAccepted=!0,await this.installExtension()},async installExtension(){this.isInstalling=!0;try{await this.extensionHelperService.downloadAndActivateExtension(this.extension.name,this.extension.type),"plugin"===this.extension.type&&await this.clearCacheAndReloadPage(),this.isInstallSuccessful=!0}catch(e){this.showExtensionErrors(e),s.get(e,"response.data.errors[0]",null)&&(this.installationError=e.response.data.errors[0]),this.openInstallationFailedModal()}finally{this.isInstalling=!1}},async finishedInstall(){await this.shopwareExtensionService.updateExtensionData(),this.isInstallSuccessful=!1},async openExtension(){let e=await this.shopwareExtensionService.getOpenLink(this.extension);e&&this.$router.push(e)},openConfiguration(){this.$router.push({name:"sw.extension.config",params:{namespace:this.extension.name}})},openListingPage(){if(this.extension&&this.extension.isTheme){this.$router.push({name:"sw.extension.my-extensions.listing.theme"});return}this.$router.push({name:"sw.extension.my-extensions.listing.app"})},checkDescriptionCollapsed(){let e=this.$el.querySelector(".sw-extension-store-detail__description");e&&e.scrollHeight<=300&&this.expandDescription()},expandDescription(){this.isDescriptionCollapsed=!1},openInstallationFailedModal(){this.showInstallationFailedModal=!0},closeInstallationFailedModal(){this.showInstallationFailedModal=!1},async clearCacheAndReloadPage(){await this.cacheApiService.clear(),window.location.reload()}}}},635:function(e,n,t){var s=t(87);s.__esModule&&(s=s.default),"string"==typeof s&&(s=[[e.id,s,""]]),s.locals&&(e.exports=s.locals),t(346).Z("7a75d7d1",s,!0,{})},346:function(e,n,t){"use strict";function s(e,n){for(var t=[],s={},i=0;i<n.length;i++){var o=n[i],a=o[0],l={id:e+":"+i,css:o[1],media:o[2],sourceMap:o[3]};s[a]?s[a].parts.push(l):t.push(s[a]={id:a,parts:[l]})}return t}t.d(n,{Z:function(){return u}});var i="undefined"!=typeof document;if("undefined"!=typeof DEBUG&&DEBUG&&!i)throw Error("vue-style-loader cannot be used in a non-browser environment. Use { target: 'node' } in your Webpack config to indicate a server-rendering environment.");var o={},a=i&&(document.head||document.getElementsByTagName("head")[0]),l=null,r=0,d=!1,c=function(){},_=null,p="data-vue-ssr-id",x="undefined"!=typeof navigator&&/msie [6-9]\b/.test(navigator.userAgent.toLowerCase());function u(e,n,t,i){d=t,_=i||{};var a=s(e,n);return m(a),function(n){for(var t=[],i=0;i<a.length;i++){var l=o[a[i].id];l.refs--,t.push(l)}n?m(a=s(e,n)):a=[];for(var i=0;i<t.length;i++){var l=t[i];if(0===l.refs){for(var r=0;r<l.parts.length;r++)l.parts[r]();delete o[l.id]}}}}function m(e){for(var n=0;n<e.length;n++){var t=e[n],s=o[t.id];if(s){s.refs++;for(var i=0;i<s.parts.length;i++)s.parts[i](t.parts[i]);for(;i<t.parts.length;i++)s.parts.push(w(t.parts[i]));s.parts.length>t.parts.length&&(s.parts.length=t.parts.length)}else{for(var a=[],i=0;i<t.parts.length;i++)a.push(w(t.parts[i]));o[t.id]={id:t.id,refs:1,parts:a}}}}function h(){var e=document.createElement("style");return e.type="text/css",a.appendChild(e),e}function w(e){var n,t,s=document.querySelector("style["+p+'~="'+e.id+'"]');if(s){if(d)return c;s.parentNode.removeChild(s)}if(x){var i=r++;n=g.bind(null,s=l||(l=h()),i,!1),t=g.bind(null,s,i,!0)}else n=k.bind(null,s=h()),t=function(){s.parentNode.removeChild(s)};return n(e),function(s){s?(s.css!==e.css||s.media!==e.media||s.sourceMap!==e.sourceMap)&&n(e=s):t()}}var b=function(){var e=[];return function(n,t){return e[n]=t,e.filter(Boolean).join("\n")}}();function g(e,n,t,s){var i=t?"":s.css;if(e.styleSheet)e.styleSheet.cssText=b(n,i);else{var o=document.createTextNode(i),a=e.childNodes;a[n]&&e.removeChild(a[n]),a.length?e.insertBefore(o,a[n]):e.appendChild(o)}}function k(e,n){var t=n.css,s=n.media,i=n.sourceMap;if(s&&e.setAttribute("media",s),_.ssrId&&e.setAttribute(p,n.id),i&&(t+="\n/*# sourceURL="+i.sources[0]+" */\n/*# sourceMappingURL=data:application/json;base64,"+btoa(unescape(encodeURIComponent(JSON.stringify(i))))+" */"),e.styleSheet)e.styleSheet.cssText=t;else{for(;e.firstChild;)e.removeChild(e.firstChild);e.appendChild(document.createTextNode(t))}}}}]);